parsePEG.names=['','PropSpec','BinaryUnicodeProperty','UnicodeProperty','PropVal','ScriptOrCatPropVal','UPlusCodePoint','PositiveSpec','NegativeSpec','CodePoint','CodePointLit','CodePointFrom','CodePointTo','CodePointRange','UnicodePropSpec','CodePointExpr','CharSetUnion','CharSetIntersection','HEXDIG','CharSetDifference','CharEscape','CharSetExpr','StrLit','CharSet','PosCharSet','NegCharSet','Empty','AtomicExpr','ParenthExpr','Replicand','N','M','Optional','MNRep','PosRep','AnyRep','SeqUnit','Sequence','IdentChar','IdentStartChar','OrdChoice','S','SpaceAtom','LB','NonTerminal','Comment','Rule','RuleSet','PosLookahead','NegLookahead','_']
function parsePEG(out){var eof=false,s='',l=0,S=204800,T,M,F,D,R,tbl=[],x,pos=0,offset=0,buf=[],bufs=[],states=[],posns=[],c,equiv,ds,dp,failed=0,emp=0,emps=[];
equiv=rle_dec([10,0,1,1,2,0,1,2,18,0,1,3,1,4,1,5,3,0,1,6,1,0,1,7,1,8,1,9,1,10,1,11,1,12,1,0,1,13,10,14,1,15,1,16,1,0,1,17,1,0,1,18,1,0,6,19,14,20,1,21,5,20,1,22,1,23,1,24,1,25,1,26,1,0,5,26,1,27,7,26,1,27,3,26,1,27,1,26,1,27,1,26,1,27,4,26,1,28,1,29,1,30,34,0,1,31,852,0,1,32,4746,0,1,31,397,0,1,31,2033,0,11,31,36,0,1,31,47,0,1,31,304,0,1,33,129,0,1,34,22,0,1,35,54,0,1,36,3487,0,1,31,43007,0,2048,37,8192,0])
function rle_dec(a){var r=[],i,l,n,x,ll;for(i=0,l=a.length;i<l;i+=2){n=a[i];x=a[i+1];r.length=ll=r.length+n;for(;n;n--)r[ll-n]=x}return r}
T=[,966656,1024000,1031174,1047558,1063942,838662,1080326,936966,819200,831488,913408,917504,901120,921600,802816,756742,708608,897024,663552,1167360,647168,1142784,593920,1105920,609286,1138688,573440,1216512,561152,1273856,1265664,1290240,1228800,1306624,552960,516096,470022,352256,356352,360448,433158,446464,299008,339968,286720,319488,208896,1298432,1282048,1314816,216070,217088,221184,179207,229376,187567,191663,244742,248838,249856,179207,258048,179207,266240,187567,191663,278528,179207,326,,294912,,306182,307200,,,,183471,171015,,171015,167087,162823,348160,158727,,,364544,171015,326,154799,380928,171015,326,396294,397312,,405504,171015,326,154799,421888,171015,326,434176,175111,442368,175111,450560,,458752,179207,,474118,475136,150703,483328,171015,326,498694,499712,150703,507904,171015,326,520192,146607,142511,138415,134319,117935,199855,203951,113839,122031,,565248,117935,113839,577536,109743,97455,183471,93359,598016,105647,101551,610304,,,622592,171015,326,634880,89263,326,,81071,655360,171015,326,72879,674822,675840,679936,171015,326,,696320,171015,326,72879,68783,719878,720896,724992,171015,326,,741376,171015,326,68783,760838,761856,64687,770048,171015,326,785414,786432,64687,794624,171015,326,806912,60591,56495,40111,823296,27823,44207,,839680,,,851968,76807,76807,76807,76807,875526,876544,76807,884736,76807,326,326,,48303,,52399,40111,40111,925696,31919,36015,937984,,,,7343,958464,,,970752,11439,978944,15535,987136,,,19631,1003520,23727,1014790,1015808,,23727,15535,1032192,,1040384,,1048576,,1056768,,1064960,,1073152,,1081344,,,7343,1097728,,,,1114112,171015,326,1126400,89263,326,,,,1150976,1155072,85167,,,1174534,1175552,,1183744,76807,76807,76807,76807,326,1208320,,,,167087,,122031,,130223,1248262,1249280,,126127,326,,1269760,,1277952,,,150703,122031,,,150703,122031,,195759,1323008,]
M=rle_dec([1,,52,324,1,225280,1,221184,1,237568,2,324,1,274432,1,244742,1,262144,1,253952,1,324,1,258048,4,324,1,278528,1,324,1,290816,1,324,1,294912,2,324,1,311296,2,324,1,323584,1,327680,1,331776,1,335872,1,324,1,344064,1,324,1,348160,2,324,1,372736,2,324,1,376832,1,389120,3,324,1,396294,1,401408,1,413696,2,324,1,417792,4,324,1,438272,1,324,1,442368,3,324,1,462848,2,324,1,491520,1,479232,4,324,1,498694,1,503808,12,324,1,557056,12,324,1,618496,1,614400,1,324,1,630784,2,324,1,643072,3,324,1,651264,3,324,1,667648,1,324,1,674822,1,688128,2,324,1,692224,1,704512,3,324,1,712704,1,324,1,719878,1,733184,2,324,1,737280,1,749568,4,324,1,778240,1,765952,4,324,1,785414,1,790528,11,324,1,850950,1,843776,2,324,1,856064,1,860160,1,864256,1,868352,2,324,1,880640,5,324,1,905216,1,909312,6,324,1,950272,1,942080,1,946176,1,324,1,957446,1,324,1,962560,4,324,1,983040,1,995328,4,324,1,1007616,1,324,1,1014790,1,1019904,3,324,1,1036288,1,324,1,1040384,1,324,1,1052672,1,324,1,1056768,1,324,1,1069056,1,324,1,1073152,1,1089536,1,1085440,1,324,1,1096710,1,324,1,1101824,1,324,1,1110016,1,1122304,2,324,1,1134592,4,324,1,1146880,1,1163264,1,1150976,5,324,1,1182726,1,324,1,1187840,1,1191936,1,1196032,1,1200128,2,324,1,1212416,1,324,1,1220608,1,1224704,1,324,1,1232896,1,1236992,1,1241088,1,1261568,1,324,1,1253376,4,324,1,1269760,1,324,1,1277952,1,1286144,1,324,1,1294336,1,324,1,1302528,1,324,1,1310720,1,324,1,1318912,1,324,1,325])
F=rle_dec([1,,51,325,1,282624,1,325,1,324,1,325,1,233472,2,325,1,324,3,325,1,324,1,325,1,270336,2,325,1,324,3,325,1,324,1,325,1,315392,10,325,1,324,3,325,1,368640,3,325,1,385024,2,325,1,324,2,325,1,409600,3,325,1,425984,4,325,1,324,1,325,1,457734,7,325,1,487424,2,325,1,324,2,325,1,512000,2,325,1,524288,1,528384,1,532480,1,536576,1,540672,1,544768,1,548864,4,325,1,569344,2,325,1,581632,1,585728,1,589824,2,325,1,602112,5,325,1,626688,2,325,1,638976,4,325,1,659456,3,325,1,324,1,325,1,684032,3,325,1,700416,4,325,1,324,1,325,1,729088,3,325,1,745472,6,325,1,774144,2,325,1,324,2,325,1,798720,2,325,1,811008,1,815104,2,325,1,827392,11,325,1,892928,2,325,1,888832,9,325,1,929792,10,325,1,977926,1,1002502,2,325,1,991232,5,325,1,324,6,325,1,324,3,325,1,324,3,325,1,324,9,325,1,1118208,2,325,1,1130496,5,325,1,324,1,1159168,3,325,1,1207302,17,325,1,1257472,5,325,1,324,1,325,1,324,10,325,1,324])
D=function(a,i,l,b){for(i=0,l=a.length,b=[];i<l;i++)b[i]=revive(a[i]);return b}([,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,[[[[16]]]],,[[[[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]]]],,,[[[[2]]]],[[[[1]]]],[[[[1,2]]]],,,[[[[33]]]],,,,,,[[[[14,19,20,21,26,27]]]],[[[[19,20,21]]]],,,,,,,,,,[[[[13]]]],,,,,,,,,,,,,[[[[3]]]],,,[[[[3]]]],,,,,,,,,,,,,,,,,,,,,,,[[[[9]]]],,,,,,,,,,,,,[[[[22]]]],[[[[25]]]],,,,,,,[[[[24]]]],,,,,,,,,,,[[[[34]]]],,,,,,,,,,,[[[[35]]]],,,,,,,,,,,,,,,,,,,,,,,,[[[[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,25,26,27,28,29,30,32,33,35,36]]]],,[[[[21]]]],[[[[10]]]],,,,,,,,,,,,,[[[[14,19]]]],,[[[[12]]]],,,,,,,,[[[[22]]]],[[[[15]]]],[[[[25]]]],,,[[[[15]]]],[[[[24]]]],,,,,,[[[[17]]]],[[[[36]]]],,,,,,[[[[29]]]],,,,[[[[3,12,19,20,21,26,27]]]],,[[[[3,12,19,20,21,26,27]]]],,[[[[3,12,19,20,21,26,27]]]],,[[[[3,12,19,20,21,26,27]]]],,[[[[3,12,19,20,21,26,27]]]],,[[[[3,12,19,20,21,26,27]]]],,[[[[22]]]],[[[[15]]]],,,[[[[15]]]],[[[[24]]]],[[[[22]]]],,,,,,,[[[[24]]]],[[[[32]]]],[[[[5]]]],,,,[[[[0,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36]]]],[[[[5]]]],,,[[[[23]]]],,,,,,,,[[[[23]]]],[[[[27]]]],[[[[7]]]],,[[[[8]]]],,[[[[28]]]],,,,[[[[11]]]],,,[[[[30]]]],,[[[[14]]]],,[[[[14]]]],[[[[4]]]],,,[[[[18]]]],[[[[6]]]],,,[[[[10]]]],,,[[[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]]]]])
function revive(x){var i,l,state,j,l2,all=[],t,ts;if(!x)return;for(i=0,l=x.length;i<l;i++){state=x[i];ts=[];for(j=0,l2=state.length;j<l2;j++){t=state[j];if(t[1]==l) ts.push([t[0],true]);else ts.push([t[0],t[1]==undefined?j+1:t[1]])}all.push(ts)}return dfa(all)
 function dfa(ss){var i,l_ss,st,l_s,t,l_t,a,d=[],j,k,l;for(i=0,l_ss=ss.length;i<l_ss;i++){st=ss[i];a=[];for(j=0,l_s=st.length;j<l_s;j++){t=st[j];for(k=0,l_t=t[0].length;k<l_t;k++){a[t[0][k]]=t[1]==true?l_ss:t[1]}}for(j=0,l=a.length;j<l;j++)if(a[j]==undefined)a[j]=l_ss+1;d[i]=a}
  return function _dfa(st,i){var eq,pr;while(st<l_ss){eq=equiv[s.charCodeAt(i++)];st=d[pr=st][eq]}if(eq==undefined&&i>=s.length){ds=pr;dp=i-1;return}ds=0;dp=undefined;if(st==l_ss){pos=i;return true}return false}}}
if(typeof out=='string'){s=out;out=[];x=parsePEG(function(m,x,y){if(m=='fail')out=[false,x,y,s];if(m=='tree segment')out=out.concat(x)});x('chunk',s);x('eof');return out[0]===false?out:[true,{names:parsePEG.names,tree:out,input:s}]}
return function(m,x){if(failed){out('fail',pos,'parse already failed');return}
switch(m){
case 'chunk':s+=x;l=s.length;while(tbl.length<l+1)tbl.push([]);mainloop();break
case 'eof':eof=true;mainloop();break
default:throw new Error('unhandled message: '+m)}}
//mainloop
function mainloop(){for(;;){
if(dp==undefined&&(S>367||S<326))t_block:{
if(S&4/*pushpos*/)posns.push(pos)
if(S&2/*t_bufferout*/){bufs.push(buf);buf=[]}
if(S&8/*t_emitstate*/){if(emp<pos)buf.push(-1,pos-emp);emps.push(emp);emp=pos;buf.push(S>>>12)}if(S&1/*cache*/&&(x=tbl[pos-offset][S])!=undefined){if(x){R=true;pos=x[0];buf=x[1];emp=x[2]}else{R=false};break t_block}
}if(R==undefined){
// call DFA
if(D[S>>>12]){R=D[S>>>12](ds||0,dp||pos);if(R==undefined){if(eof){dp=undefined;R=false}else{out('ready');return}}}
else{states.push(S);S=T[S>>>12]}
if(S==326){R=true;S=states.pop()}}
while(R!=undefined){
if(S==204800){(R?emit:fail)();return}if(R){
if(S&1/*cache*/){tbl[posns[posns.length-1]][S]=[pos,buf,emp];buf=buf.slice()}
if(S&8/*t_emitstate*/){if(pos!=emp&&emp!=posns[posns.length-1]){buf.push(-1,pos-emp)}emp=emps.pop()}if(S&16/*m_emitstate*/)buf.push(S>>>12)
if(S&32/*m_emitclose*/)buf.push(-2)
if(S&128/*m_emitlength*/)buf.push(pos-posns[posns.length-1])
if(S&8/*t_emitstate*/){emp=pos}if(S&256/*m_resetpos*/)pos=posns[posns.length-1]
if(S&4/*pushpos*/)posns.pop()
if(S&512/*m_tossbuf*/)buf=bufs.pop()
if(S&1024/*m_emitbuf*/)buf=bufs.pop().concat(buf)
if(!bufs.length&&buf.length>64)emit()
S=M[S>>>12]}
else{
if(S&1/*cache*/)tbl[posns[posns.length-1]][S]=false
if(S&4/*pushpos*/)pos=posns.pop()
if(S&2048/*f_tossbuf*/)buf=bufs.pop()
if(S&8/*t_emitstate*/){emp=emps.pop()}
S=F[S>>>12]}
if(S==324){R=true;S=states.pop()}else if(S==325){R=false;S=states.pop()}else R=undefined;}}}
function emit(){var x=bufs.length?bufs[0]:buf;if(x.length){out('tree segment',x);if(bufs.length)bufs[0]=[];else buf=[]}}
function fail(s){out('fail',pos,s);failed=1}}
